You are Replit AI working on the repo (frontend / backend).  
Your task is to fix all remaining **critical frontend issues** before Phase 2.  
âš ï¸ Do NOT touch backend code or endpoints. Only frontend corrections.

==============================
ðŸ§©  GOAL  
Make the app fully stable and ready for the Phase 2 workflow upgrade.  
Fix every issue that causes wrong API calls, validation gaps, or incomplete setup/login logic.

==============================
ðŸª²  CRITICAL ISSUES TO FIX  

1ï¸âƒ£ âŒ Absolute API paths ignoring baseURL  
- In `frontend/src/context/AuthContext.jsx`:
  - Change all `api.post('/auth/...')` and `api.get('/setup/...')` to **relative** paths:
    ```diff
    - api.post('/auth/login')
    + api.post('auth/login')

    - api.post('/auth/register')
    + api.post('auth/register')
    ```
- In `App.jsx`:
    ```diff
    - axios.get('/setup/status')
    + api.get('setup/status')
    ```
- Ensure all calls reuse the same `api` instance from `frontend/src/api/axios.js`.  
âœ… Result: all endpoints will correctly use `baseURL:'/api'`.

2ï¸âƒ£ âš™ï¸ Setup status check missing inside Setup.jsx  
- Add `useEffect` that calls `api.get('setup/status')` on mount.  
- If response shows `already_configured` â†’ show message and redirect to `/login`.  
- If backend says â€œneeds setupâ€ â†’ keep form active.  
âœ… Result: UI and backend setup state always synchronized.

3ï¸âƒ£ ðŸ•’ Login retry / cooldown logic incomplete  
- In `Login.jsx`:  
  - Track `failedAttempts` (in state + localStorage).  
  - After 5 failures â†’ block login for 60 s (`retryDelay` countdown UI).  
  - Reset counter on successful login.  
âœ… Result: safer auth flow and no spamming of login endpoint.

4ï¸âƒ£ ðŸŒ i18n keys missing for error/success messages  
- In `frontend/src/i18n/en.json` and `ar.json`, add:
"setup.success": "Setup completed successfully.",
"setup.already_configured": "System already configured.",
"errors.invalid_credentials": "Invalid email or password.",
"errors.server_error": "Unexpected server error.",
"errors.validation_failed": "Please correct highlighted fields.",
"password.requirements": "Password must contain uppercase, lowercase, number and special character."

pgsql
Copy code
- Update `mapBackendError()` and validation messages to use these keys instead of hardcoded strings.  
âœ… Result: consistent bilingual messaging and cleaner validation.

5ï¸âƒ£ ðŸ§ª Smoke tests placeholder only  
- In `frontend/tests/smoke.test.js`:  
Replace placeholders with real checks using `@testing-library/react` or `jsdom`:
```js
import { render } from '@testing-library/react';
import Setup from '../src/pages/Setup';
import Login from '../src/pages/Login';

test('Setup and Login render without errors', () => {
  render(<Setup />);
  render(<Login />);
  expect(true).toBe(true);
});
âœ… Result: automated sanity check during build.

==============================
ðŸ“˜ DELIVERABLES

Fixed files:

AuthContext.jsx

App.jsx

Setup.jsx

Login.jsx

validation.js (if using new keys)

i18n/en.json, i18n/ar.json

tests/smoke.test.js

Update FRONTEND_CHANGELOG.md and QA_CHECKLIST.md with:

Summary of fixes above

Verification steps per issue

==============================
âœ… FINAL CHECK BEFORE CLOSING PHASE 1

App builds successfully (npm run build)

Setup page syncs with backend status

Login cooldown works after 5 failures

All API calls go through /api/...

Smoke tests pass with no JS errors

All messages bilingual and consistent